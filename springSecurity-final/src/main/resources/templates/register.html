<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" th:href="@{/css/register.css}" type="text/css"/>
  <title>Register</title>
</head>
<body>
  <div id="bg"></div>

  <form th:action="@{/register}" method="post" th:object="${user}" onsubmit="return validatePasswordMatch()">
    <div class="form-field">
      <input th:field="*{username}" type="text" placeholder="Full Name" required />
    </div>

    <div class="form-field">
      <input type="email" th:field="*{email}" placeholder="Email" required />
    </div>

    <div class="form-field">
      <input type="password" id="password" th:field="*{password}" placeholder="Password" required />
    </div>

    <div class="form-field">
      <input type="password" id="confirmPassword" placeholder="Confirm Password" required />
      <span id="passwordError" style="color: red;"></span>
    </div>

    <div class="form-field">
      <button class="btn" type="submit">Sign Up</button>
    </div>

    <div class="form-field">
      <span>Already have an account? <a th:href="@{/login}">Log in</a></span>
    </div>


    <script>
      function validatePasswordMatch() {
        var password = document.getElementById("password").value;
        var confirmPassword = document.getElementById("confirmPassword").value;
        var passwordError = document.getElementById("passwordError");

        if (password !== confirmPassword) {
          passwordError.textContent = "Passwords do not match";
          return false;
        }

        return true;
      }
    </script>
  </form>
</body>
</html>
